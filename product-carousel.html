<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
  /* Carousel Wrapper - ICA Style */
  .carousel-section {
    font-family: 'Inter', -apple-system, sans-serif;
    margin-bottom: 32px;
    overflow: visible;
  }

  .carousel-title {
    font-size: 18px;
    font-weight: 700;
    margin-bottom: 16px;
    color: #222222;
  }

  .carousel-container {
    position: relative;
  }

  .carousel-container::before,
  .carousel-container::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    width: 60px;
    z-index: 5;
    pointer-events: none;
  }

  .carousel-container::before {
    left: 0;
    background: linear-gradient(to right, #f9f5f5, transparent);
  }

  .carousel-container::after {
    right: 0;
    background: linear-gradient(to left, #f9f5f5, transparent);
  }

  .carousel-track {
    display: flex;
    gap: 16px;
    overflow-x: scroll;
    padding: 8px 0;
    cursor: grab;
    user-select: none;
    scrollbar-width: none;
    -ms-overflow-style: none;
  }

  .carousel-track::-webkit-scrollbar {
    display: none;
  }

  .carousel-nav {
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    width: 32px;
    height: 32px;
    background: #f9e4e1;
    border: none;
    border-radius: 10px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
  }

  .carousel-nav:hover {
    background: #f0bcb4;
  }

  .carousel-nav svg {
    stroke: #cf2005;
    width: 20px;
    height: 20px;
  }

  .carousel-nav.prev {
    left: 6px;
  }

  .carousel-nav.next {
    right: 6px;
  }

  /* Product Card - Our Design */
  .product-card {
    font-family: 'Inter', -apple-system, sans-serif;
    background: #ffffff;
    border-radius: 12px;
    overflow: hidden;
    display: flex;
    flex-direction: row;
    width: 328px;
    min-width: 328px;
    height: 180px;
    max-height: 180px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  }

  .card-image-wrap {
    position: relative;
    width: 151px;
    min-width: 151px;
    height: 100%;
    flex-shrink: 0;
    background: #ffffff;
    display: flex;
    align-items: flex-start;
    justify-content: flex-start;
    padding: 4px;
    box-sizing: border-box;
  }

  .card-badge {
    position: absolute;
    top: 8px;
    left: 8px;
    font-size: 11px;
    font-weight: 500;
    color: #3A3A3A;
    background: rgba(255,255,255,0.95);
    padding: 3px 8px;
    border-radius: 4px;
    z-index: 1;
  }

  .card-image {
    width: 135px;
    height: 135px;
    object-fit: contain;
  }

  .card-image-placeholder {
    width: 135px;
    height: 135px;
    background: #eee;
    border-radius: 4px;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .card-image-placeholder svg {
    opacity: 0.3;
  }

  .card-image-placeholder.hidden {
    display: none;
  }

  .card-body {
    flex: 1;
    padding: 8px;
    display: flex;
    flex-direction: column;
    box-sizing: border-box;
    min-width: 0;
  }

  .card-top {
    flex: 1;
  }

  .card-title {
    font-size: 14px;
    font-weight: 500;
    color: #3A3A3A;
    margin-bottom: 36px;
    line-height: 1.3;
    overflow: hidden;
    text-overflow: ellipsis;
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
  }

  .card-size {
    font-size: 13px;
    color: #3A3A3A;
    font-weight: 500;
  }

  .card-size .unit-price {
    color: #3A3A3A;
    font-weight: 400;
  }

  .card-bottom {
    margin-top: auto;
  }

  .card-price {
    font-size: 20px;
    font-weight: 700;
    color: #3A3A3A;
    margin-bottom: 8px;
  }

  .card-add {
    width: 100%;
    padding: 10px 14px;
    background: #e21a22;
    color: #ffffff;
    border: none;
    border-radius: 8px;
    font-size: 14px;
    font-weight: 600;
    cursor: pointer;
  }

  .card-add:hover {
    background: #c91820;
  }
</style>

<section class="carousel-section">
  <h2 class="carousel-title" data-field="carousel_title">{{carousel_title}}</h2>
  <div class="carousel-container">
    <button class="carousel-nav prev">
      <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
        <path d="m15 18-6-6 6-6"></path>
      </svg>
    </button>
    <div class="carousel-track">
      <!-- Card 1 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_1">{{origin_1}}</span>
          <img class="card-image" src="{{image_url_1}}" alt="{{title_1}}" data-field="image_url_1" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_1">{{title_1}}</div>
            <div class="card-size"><span data-field="size_1">{{size_1}}</span> <span class="unit-price" data-field="unit_price_1">{{unit_price_1}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_1">{{price_1}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 2 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_2">{{origin_2}}</span>
          <img class="card-image" src="{{image_url_2}}" alt="{{title_2}}" data-field="image_url_2" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_2">{{title_2}}</div>
            <div class="card-size"><span data-field="size_2">{{size_2}}</span> <span class="unit-price" data-field="unit_price_2">{{unit_price_2}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_2">{{price_2}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 3 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_3">{{origin_3}}</span>
          <img class="card-image" src="{{image_url_3}}" alt="{{title_3}}" data-field="image_url_3" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_3">{{title_3}}</div>
            <div class="card-size"><span data-field="size_3">{{size_3}}</span> <span class="unit-price" data-field="unit_price_3">{{unit_price_3}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_3">{{price_3}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 4 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_4">{{origin_4}}</span>
          <img class="card-image" src="{{image_url_4}}" alt="{{title_4}}" data-field="image_url_4" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_4">{{title_4}}</div>
            <div class="card-size"><span data-field="size_4">{{size_4}}</span> <span class="unit-price" data-field="unit_price_4">{{unit_price_4}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_4">{{price_4}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 5 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_5">{{origin_5}}</span>
          <img class="card-image" src="{{image_url_5}}" alt="{{title_5}}" data-field="image_url_5" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_5">{{title_5}}</div>
            <div class="card-size"><span data-field="size_5">{{size_5}}</span> <span class="unit-price" data-field="unit_price_5">{{unit_price_5}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_5">{{price_5}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 6 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_6">{{origin_6}}</span>
          <img class="card-image" src="{{image_url_6}}" alt="{{title_6}}" data-field="image_url_6" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_6">{{title_6}}</div>
            <div class="card-size"><span data-field="size_6">{{size_6}}</span> <span class="unit-price" data-field="unit_price_6">{{unit_price_6}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_6">{{price_6}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 7 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_7">{{origin_7}}</span>
          <img class="card-image" src="{{image_url_7}}" alt="{{title_7}}" data-field="image_url_7" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_7">{{title_7}}</div>
            <div class="card-size"><span data-field="size_7">{{size_7}}</span> <span class="unit-price" data-field="unit_price_7">{{unit_price_7}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_7">{{price_7}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 8 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_8">{{origin_8}}</span>
          <img class="card-image" src="{{image_url_8}}" alt="{{title_8}}" data-field="image_url_8" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_8">{{title_8}}</div>
            <div class="card-size"><span data-field="size_8">{{size_8}}</span> <span class="unit-price" data-field="unit_price_8">{{unit_price_8}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_8">{{price_8}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 9 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_9">{{origin_9}}</span>
          <img class="card-image" src="{{image_url_9}}" alt="{{title_9}}" data-field="image_url_9" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_9">{{title_9}}</div>
            <div class="card-size"><span data-field="size_9">{{size_9}}</span> <span class="unit-price" data-field="unit_price_9">{{unit_price_9}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_9">{{price_9}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 10 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_10">{{origin_10}}</span>
          <img class="card-image" src="{{image_url_10}}" alt="{{title_10}}" data-field="image_url_10" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_10">{{title_10}}</div>
            <div class="card-size"><span data-field="size_10">{{size_10}}</span> <span class="unit-price" data-field="unit_price_10">{{unit_price_10}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_10">{{price_10}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 11 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_11">{{origin_11}}</span>
          <img class="card-image" src="{{image_url_11}}" alt="{{title_11}}" data-field="image_url_11" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_11">{{title_11}}</div>
            <div class="card-size"><span data-field="size_11">{{size_11}}</span> <span class="unit-price" data-field="unit_price_11">{{unit_price_11}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_11">{{price_11}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 12 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_12">{{origin_12}}</span>
          <img class="card-image" src="{{image_url_12}}" alt="{{title_12}}" data-field="image_url_12" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_12">{{title_12}}</div>
            <div class="card-size"><span data-field="size_12">{{size_12}}</span> <span class="unit-price" data-field="unit_price_12">{{unit_price_12}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_12">{{price_12}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 13 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_13">{{origin_13}}</span>
          <img class="card-image" src="{{image_url_13}}" alt="{{title_13}}" data-field="image_url_13" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_13">{{title_13}}</div>
            <div class="card-size"><span data-field="size_13">{{size_13}}</span> <span class="unit-price" data-field="unit_price_13">{{unit_price_13}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_13">{{price_13}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 14 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_14">{{origin_14}}</span>
          <img class="card-image" src="{{image_url_14}}" alt="{{title_14}}" data-field="image_url_14" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_14">{{title_14}}</div>
            <div class="card-size"><span data-field="size_14">{{size_14}}</span> <span class="unit-price" data-field="unit_price_14">{{unit_price_14}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_14">{{price_14}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 15 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_15">{{origin_15}}</span>
          <img class="card-image" src="{{image_url_15}}" alt="{{title_15}}" data-field="image_url_15" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_15">{{title_15}}</div>
            <div class="card-size"><span data-field="size_15">{{size_15}}</span> <span class="unit-price" data-field="unit_price_15">{{unit_price_15}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_15">{{price_15}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 16 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_16">{{origin_16}}</span>
          <img class="card-image" src="{{image_url_16}}" alt="{{title_16}}" data-field="image_url_16" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_16">{{title_16}}</div>
            <div class="card-size"><span data-field="size_16">{{size_16}}</span> <span class="unit-price" data-field="unit_price_16">{{unit_price_16}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_16">{{price_16}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 17 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_17">{{origin_17}}</span>
          <img class="card-image" src="{{image_url_17}}" alt="{{title_17}}" data-field="image_url_17" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_17">{{title_17}}</div>
            <div class="card-size"><span data-field="size_17">{{size_17}}</span> <span class="unit-price" data-field="unit_price_17">{{unit_price_17}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_17">{{price_17}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>

      <!-- Card 18 -->
      <div class="product-card">
        <div class="card-image-wrap">
          <span class="card-badge" data-field="origin_18">{{origin_18}}</span>
          <img class="card-image" src="{{image_url_18}}" alt="{{title_18}}" data-field="image_url_18" onload="this.nextElementSibling.classList.add('hidden')" onerror="this.style.display='none'">
          <div class="card-image-placeholder">
            <svg width="32" height="32" viewBox="0 0 24 24" fill="none">
              <rect x="3" y="3" width="18" height="18" rx="2" stroke="#999" stroke-width="1.5"/>
              <circle cx="8.5" cy="8.5" r="1.5" fill="#999"/>
              <path d="M21 15l-5-5L5 21" stroke="#999" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </div>
        </div>
        <div class="card-body">
          <div class="card-top">
            <div class="card-title" data-field="title_18">{{title_18}}</div>
            <div class="card-size"><span data-field="size_18">{{size_18}}</span> <span class="unit-price" data-field="unit_price_18">{{unit_price_18}}</span></div>
          </div>
          <div class="card-bottom">
            <div class="card-price" data-field="price_18">{{price_18}}</div>
            <button class="card-add" data-field="button_text">{{button_text}}</button>
          </div>
        </div>
      </div>
    </div>
    <button class="carousel-nav next">
      <svg viewBox="0 0 24 24" fill="none" stroke-width="2">
        <path d="m9 18 6-6-6-6"></path>
      </svg>
    </button>
  </div>
</section>

<script>
  (function() {
    const track = document.querySelector('.carousel-track');
    const prevBtn = document.querySelector('.carousel-nav.prev');
    const nextBtn = document.querySelector('.carousel-nav.next');
    const cardWidth = 328 + 16; // card width + gap

    // Hide cards with empty or unpopulated titles (skip first 4 for preview)
    document.querySelectorAll('.product-card').forEach((card, index) => {
      const title = card.querySelector('.card-title');
      const isEmpty = !title || !title.textContent.trim() || title.textContent.includes('{{');
      // Show first 4 cards for preview even if empty, hide rest
      if (isEmpty && index >= 4) {
        card.style.display = 'none';
      }
    });

    prevBtn.addEventListener('click', () => {
      track.scrollBy({ left: -cardWidth, behavior: 'smooth' });
    });

    nextBtn.addEventListener('click', () => {
      track.scrollBy({ left: cardWidth, behavior: 'smooth' });
    });

    // Drag scrolling
    let isDown = false;
    let startX;
    let scrollLeft;

    track.addEventListener('mousedown', (e) => {
      isDown = true;
      track.style.cursor = 'grabbing';
      startX = e.pageX - track.offsetLeft;
      scrollLeft = track.scrollLeft;
    });

    track.addEventListener('mouseleave', () => {
      isDown = false;
      track.style.cursor = 'grab';
    });

    track.addEventListener('mouseup', () => {
      isDown = false;
      track.style.cursor = 'grab';
    });

    track.addEventListener('mousemove', (e) => {
      if (!isDown) return;
      e.preventDefault();
      const x = e.pageX - track.offsetLeft;
      const walk = (x - startX) * 2;
      track.scrollLeft = scrollLeft - walk;
    });
  })();
</script>
